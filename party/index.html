<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>玫琳凯</title>
    <link rel="stylesheet" href="./css/pure-min.css"/>
    <link rel="stylesheet" href="./css/style.css"/>
</head>
<body class="card">
<header class="header">
    <img src="./images/header.png" class="pure-img" alt=""/>
    <div class="header-sec">
        <div class="header-item"><span class="card-icon card-icon-map"></span><p class="header-item-location"></p></div>
        <div class="header-item"><span class="card-icon card-icon-clock"></span><p class="header-item-date"></p></div>
        <div class="header-item"><span class="card-icon card-icon-user"></span><p class="header-item-name"></p> </div>
    </div>

</header>
<section class="card-form">
    <form class="">
        <fieldset>
            <p class="legend">请填写您的个人信息来生成邀请卡</p>
            <div  class="pure-u-1" >
                <label for="name" >姓名</label>
                <input id="name" class="pure-u-3-4" type="text" placeholder="请填写" required>
            </div>

            <div class="pure-u-1">
                <label for="tel">手机号码</label>
                <input id="tel" class="pure-u-3-4" type="tel" placeholder="请填写" required maxlength="11">
            </div>
            <div class="pure-controls">
                <button type="submit" class="pure-button pure-button-mk">立即提交邀请卡</button>
            </div>
        </fieldset>
    </form>
</section>
<article  class="card-arc">
    <section>
        <h5 class="card-sec-header">
            <span>1.玫瑰花语</span>
        </h5>
        <div>
            <p>
                红玫瑰代表热情和爱恋，白玫瑰代表纯洁和美好…你知道向心中的他诉说“天天想你”应该送多少朵玫瑰吗？
            </p>
            <p>
                快来和我们一起来读玫瑰花语吧！
            </p>
            <img src="./images/secimg1.jpg" class="pure-img" alt=""/>
        </div>
    </section>
    <section>
        <h5 class="card-sec-header">
            <span>2.百变玫瑰</span>
        </h5>
        <div>
            <p>
                色彩随心更换； 潮流唇语教你百变造型！
            </p>
            <video width="100%" controls poster="./images/secimg1.jpg" preload>
                <source src="http://video.marykay.com.cn/eshowcase/zhenshi-tech.mp4" type="video/mp4">
                您的浏览器不支持此种视频格式。
            </video>
        </div>
    </section>
    <section>
        <h5 class="card-sec-header">
            <span>3.优雅玫瑰</span>
        </h5>
        <div>
            <p>
                优雅是淑女的名片，优雅从细节中展现，一起来学淑女礼仪，你会爱上美丽优雅的自己！
            </p>
            <img src="./images/secimg2.jpg" class="pure-img" alt=""/>
        </div>
    </section>
    <section>
        <h5 class="card-sec-header">
            <span>3.绽放玫瑰</span>
        </h5>
        <div>
            <p>
                聆听成功女性故事，感悟自己人生，相约瑰丽绽放！
            </p>
            <img src="./images/secimg3.jpg" class="pure-img" alt=""/>
        </div>
    </section>
    <section>
        <h5 class="card-sec-header">
            <span>着装要求</span>
        </h5>
        <div>
            <p>
                玫瑰元素小礼服
            </p>
            <img src="./images/secimg4.jpg" class="pure-img" alt=""/>
            <p class="text-pink">
                亲爱的，我带着你，你带着闺蜜，一起来“PARTY”吧！
            </p>
        </div>
    </section>
    <footer>
        <a type="submit" class="pure-button pure-button-mk" href="#">我要参加</a>
    </footer>
</article>

<script>
    var data = {
        location: "魅力女人工作室上海市静安区南京西路1366号恒隆广场2期19楼培训教室B",     //地址 String
        date: "2015年5月30日 11:45－15:00",                                                  //日期 String
        name: "邀请人 张兰兰",                                                                  //姓名 String
        successname:"王美丽",                                                                  //下边那个姓名 String
        qrcode:"images/tmp2.png"                                                              //二维码图片路径  String
    };

    /**
     * Reset font size
     * @function
     *
     */
    function rs() {
        var dw = document.documentElement.clientWidth;
        var dh = document.documentElement.clientHeight;
        document.body.style.fontSize = dw / 320 + "em";
    }

    /**
     * Replace dom text with data object
     * @function
     * @param {string} dom - The id or class of the dom.
     * @param {string}  text - The text want to replace.
     */
    function replaceText(dom, text) {

        var node = document.querySelectorAll(dom)[0];
        node.innerHTML = text;
    }

    //document ready event
    document.addEventListener("DOMContentLoaded", function(event) {

        //重新设置字体大小
        rs();

        //替换信息
        replaceText(".header-item-location", data.location);
        replaceText(".header-item-date", data.date);
        replaceText(".header-item-name", data.name);


        //手机号码3-4-4
        document.getElementById("tel").addEventListener("blur", function( event ) {
            var dv = this.value;
            if(dv.length !== 11){ console.log("手机号码应为11位"); return;}
            this.value = dv.substr(0,3) + "-" + dv.substr(3,4) + "-" + dv.substr(7);
        }, true);
    });

    //监听resize事件
    window.addEventListener('resize', function() {
        rs();
    }, true);

</script>
</body>
</html>
