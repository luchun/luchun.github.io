(function($){if($.fn.style){return;}
var escape=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");};var isStyleFuncSupported=!!CSSStyleDeclaration.prototype.getPropertyValue;if(!isStyleFuncSupported){CSSStyleDeclaration.prototype.getPropertyValue=function(a){return this.getAttribute(a);};CSSStyleDeclaration.prototype.setProperty=function(styleName,value,priority){this.setAttribute(styleName,value);var priority=typeof priority!='undefined'?priority:'';if(priority!=''){var rule=new RegExp(escape(styleName)+'\\s*:\\s*'+escape(value)+'(\\s*;)?','gmi');this.cssText=this.cssText.replace(rule,styleName+': '+value+' !'+priority+';');}};CSSStyleDeclaration.prototype.removeProperty=function(a){return this.removeAttribute(a);};CSSStyleDeclaration.prototype.getPropertyPriority=function(styleName){var rule=new RegExp(escape(styleName)+'\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?','gmi');return rule.test(this.cssText)?'important':'';}}
$.fn.style=function(styleName,value,priority){var node=this.get(0);if(typeof node=='undefined'){return this;}
var style=this.get(0).style;if(typeof styleName!='undefined'){if(typeof value!='undefined'){priority=typeof priority!='undefined'?priority:'';style.setProperty(styleName,value,priority);return this;}else{return style.getPropertyValue(styleName);}}else{return style;}};})(jQuery);$(".pushy .ol").click(function(){$(this).toggleClass("showsub");$(this).next().toggleClass("show");});function trimStatuslineLi(){var _=$(this).find("a");var text=$.trim(_.text());var subtext,lasttext;var textspan=$("<span class='hidden-xs'></span>")
if(text.length>4){subtext=text.substring(0,4);lasttext=text.substring(4);_.text(subtext);_.append(textspan);textspan.text(lasttext);}}
function trimStatuslineLiLast(){var _=$(this).find("a");var text=$.trim(_.text());var subtext,lasttext;var textspan=$("<span class='hidden-xs'></span>")
if(text.length>4){subtext=text.substring(2,5);lasttext=text.substring(0,2);_.text(subtext);_.prepend(textspan);textspan.text(lasttext);}}
function ChangeInputTypeNum(){var _=$(".number-phone");_.attr("type","tel");_.attr("pattern","\d*");}
$(document).ready(function(){($("html").hasClass("ios")&&$("html").hasClass("touch"))&&$("input[type=text]").each(ChangeInputTypeNum);});(function($){var wh=$(window).height();var dh=$(document).height();var bottomHeight=$(".bottomzone").height();var copyrightHeight=$(".copyright").height();var bootomTop=$(".bottomzone").offset().top;var marginTop=wh-bottomHeight-copyrightHeight-bootomTop-81;if(marginTop>0){$(".bottomzone").css("margin-top",marginTop+"px");}}(jQuery));$('.modal').on('shown.bs.modal',function(e){var windowWidth=$(window).width();var windowHeight=$(window).height();var _=$(this);var modalDialog=_.find(".modal-dialog");var modalDialogHeight=modalDialog.find(".modal-content").outerHeight(true);var modalMarginTop;if((windowWidth>767)&&((modalDialogHeight+100)<windowHeight)){modalMarginTop=(windowHeight-modalDialogHeight)/2;modalDialog.css({"margin-top":modalMarginTop+"px"});if(!$(this).is("#lucky_success2")){_.css({"overflow-y":"hidden"});}}});$(".votemodal,#offline-warn,#sorry,#lucky_warn1,#lucky_false,#lucky_false2,#lucky_success1,#lucky_success2,#lucky_success3,#submit_success,#SendAward_faile,#wxservices,#showBig,#error_video").on('shown.bs.modal',function(e){var voteHeight=$(this).height()-55;$(this).find(".modal-dialog").style('min-height',voteHeight+"px",'important');});$(".votemodal").on('hiden.bs.modal',function(e){});$(window).width()<768&&$(".lucky").on('shown.bs.modal',"#lucky_warn1,#lucky_false,#lucky_false2,#lucky_success1,#lucky_wait,#submit_success",function(e){$(".lucky").css("position","fixed");});$(window).width()<768&&$(".lucky").on('hide.bs.modal',"#lucky_warn1,#lucky_false,#lucky_false2,#lucky_success1,#lucky_wait,#submit_success",function(e){$(".lucky").css("position","relative");});$(window).width()<768&&$(".lucky,.homepage").on('shown.bs.modal',"#subscribeloading,#subscribe_wait,#subscribestep2,#subscribestep3",function(e){$(".lucky,.homepage").css("position","fixed");});$(window).width()<768&&$(".lucky,.homepage").on('hide.bs.modal',"#subscribeloading,#subscribe_wait,#subscribestep2,#subscribestep3",function(e){$(".lucky,.homepage").css("position","relative");});$(window).width()<768&&$("body").on('shown.bs.modal',"#enrollloading,#enroll_wait,#sorry,#enrollStep2,#wxservices",function(e){$("body").css("position","fixed");});$(window).width()<768&&$("body").on('hide.bs.modal',"#enrollloading,#enroll_wait,#sorry,#enrollStep2,#wxservices",function(e){$("body").css("position","relative");});$(window).width()<768&&$("body").on('shown.bs.modal',"#enrollloading,#subscribeloading",function(e){$("#container").css({"margin-top":"55px"})
$(".modal-backdrop").css("background-color","transparent")});$(window).width()<768&&$("body").on('hide.bs.modal',"#enrollloading,#subscribeloading",function(e){$("#container").css({"margin-top":"0"})
$(".modal-backdrop").css("background-color","white")});if(isMobleLogin()){$("#wxpopup").click(function(){$("#wxservices").modal("show");})}
function FixedEnrollHeader(){var enrollheader=$(".header--fixed")
var defaultZindex=enrollheader.css("z-index");function oneClickClose(){$(".modal").modal("hide");};return{fixedzindex:function(){enrollheader.style("z-index","9999","important");enrollheader.one("click",oneClickClose);},setDefaultZ:function(){enrollheader.style("z-index",defaultZindex,"important");}}}
var fixedEnrollHeader=new FixedEnrollHeader();$(window).width()<768&&$("body").on('show.bs.modal',"#enrollstep1,#subscribestep1,#lucky_success2",function(){fixedEnrollHeader.fixedzindex();});$(window).width()<768&&$("body").on('hide.bs.modal',"#enrollstep1,#subscribestep1,#lucky_success2",function(){fixedEnrollHeader.setDefaultZ();});if($(".touch").length>0){$(".wxbox").click(function(e){if($(window).width()<768)return;e.preventDefault();$(".hoverercode").show();});$(document.body).on('click',function(e){function getTarget(obj){var targ;var e=obj;if(e.target)targ=e.target;else if(e.srcElement)targ=e.srcElement;if(targ.nodeType==3)
targ=targ.parentNode;return targ;}
var eve=getTarget(e);if(!$(eve).hasClass("wx")){$(".hoverercode").hide();}});}
function setCopyrightBottom(){if($(window).width()>767)return;var wh=$(window).outerHeight(true);var dh=$(document.body).outerHeight(true);if(wh<dh)return;var marginTop=wh-dh;var $copyright=$(".copyright")
$copyright.css("margin-top",marginTop+"px");}
$(document).ready(setCopyrightBottom);$(window).width()<768&&$(".quicktip").parent().on('shown.bs.modal',function(e){$(".modal-backdrop").css("background-color","transparent")});$(window).width()<768&&$(".quicktip").parent().on('hiden.bs.modal',function(e){$(".modal-backdrop").css("background-color","white")});$(window).width()<768&&$("#wxshtipModal").on('shown.bs.modal',function(e){$(this).one("click",function(){$(this).modal("hide")})
if($(".modal-backdrop.in").length==2){$(".modal-backdrop").css("background-color","white")}
var video=$(".mediamodal.in").find("video");if(video.length>0){video[0].pause();video.hide()}}).on('hidden.bs.modal',function(e){if($(".modal-backdrop.in").length>0){$("body").addClass("modal-open");$(".modal-backdrop").css("background-color","white")}
var video=$(".mediamodal.in").find("video");if(video.length>0){video.show()}});
