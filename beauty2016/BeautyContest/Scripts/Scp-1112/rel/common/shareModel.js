var shareModel={shareActivity:function(place,title,pic,type){var url=common.getHostDomain();if(pic=="")pic=url+"/content/image/banner-logo.jpg";title=shareActivityMsg;if(place!="header"){url=url+"/Piece/Share/"+place;title=sharePieceeMsg;}
if(url.indexOf('?')>-1){url=url+"&source="+type;}else{url=url+"?source="+type;}
var sinaUrl="http://service.weibo.com/share/share.php?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&pic="+encodeURIComponent(pic)+"&searchPic=true;"
var qqKJUrl="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&desc=&pics="+encodeURIComponent(pic)+"&summary=";var rRUrl="http://widget.renren.com/dialog/share?resourceUrl="+encodeURIComponent(url)+"&srcUrl="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&pic="+encodeURIComponent(pic);switch(type){case"SinaWeibo":window.open(sinaUrl);break;case"QQZone":window.open(qqKJUrl);break;case"RenRen":window.open(rRUrl);break;}},shareVideo:function(place,title,shareUrl,type){var url=common.getHostDomain();pic=url+"/content/image/banner-logo.jpg";title=shareActivityMsg;if(shareUrl.indexOf('?')>-1){url=shareUrl+"&source="+type;}else{url=shareUrl+"?source="+type;}
var sinaUrl="http://service.weibo.com/share/share.php?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&pic="+encodeURIComponent(pic)+"&searchPic=true;"
var qqKJUrl="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&desc=&pics="+encodeURIComponent(pic)+"&summary=";var rRUrl="http://widget.renren.com/dialog/share?resourceUrl="+encodeURIComponent(url)+"&srcUrl="+encodeURIComponent(url)+"&title="+encodeURIComponent(title)+"&pic="+encodeURIComponent(pic);switch(type){case"SinaWeibo":window.open(sinaUrl);break;case"QQZone":window.open(qqKJUrl);break;case"RenRen":window.open(rRUrl);break;}},VideoShare:function(pieceKey,sharePlatform,picsUrl){picsUrl=window.location.origin+location.pathname+"?tab="+picsUrl+"&Vid="+pieceKey;if(checkWeiXinLogin()){var params={VideoKey:pieceKey,SharePlatform:sharePlatform};common.createVideoShare(params,function(result){if(result!=null&&result.ShareKey!=''){if(sharePlatform=="Wechat"){HeaderPartialModel.drawQRCode(picsUrl);}else{shareModel.shareVideo(pieceKey,'',picsUrl,sharePlatform);}
messageBoxView.ready();}},null);}}}
